<div class="container-fluid">
  <mat-tab-group (selectedIndexChange)="changedatamodel($event)">
    <mat-tab>
      <ng-template mat-tab-label>
        Search Orders
      </ng-template>
      <mat-accordion>
        <mat-tree [dataSource]="treedataSource" [treeControl]="treeControl" class="example-tree">
          <!-- This is the tree node template for leaf nodes -->
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
            <li class="mat-tree-node">
              <!-- use a disabled button to provide padding for tree leaf -->
              <button disabled mat-icon-button></button>
              <mat-checkbox [(ngModel)]="node.selected"
                            [checked]="node.selected" class="checklist-leaf-node">
                <mat-form-field>
                  <input [(ngModel)]="node.searchvalue" matInput placeholder="{{node.nodename}}">
                </mat-form-field>
              </mat-checkbox>
            </li>
          </mat-tree-node>
          <!-- This is the tree node template for expandable nodes -->
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <li>
              <div class="mat-tree-node">
                <button [attr.aria-label]="'toggle ' + node.nodename" mat-icon-button
                        matTreeNodeToggle>
                  <mat-icon class="mat-icon-rtl-mirror">
                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                  </mat-icon>
                </button>
                <mat-checkbox [(ngModel)]="node.selected"
                              [checked]="node.selected">
                  <span style="color: #3F51B5">
                     {{node.nodename}}
                   </span>
                </mat-checkbox>
              </div>
            </li>

            <ul [class.tree-invisible]="!treeControl.isExpanded(node)">
              <ng-container matTreeNodeOutlet></ng-container>
            </ul>
          </mat-nested-tree-node>
        </mat-tree>

      </mat-accordion>
      <button (click)="search()" class="btn-block" color="primary" mat-raised-button>Search</button>

      <orders-table *ngIf="searchinit" [queryparams]="treedataSource"></orders-table>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        Search Trucks
      </ng-template>
    </mat-tab>
  </mat-tab-group>
</div>
